#ifndef OBD2_PRV_H
#define OBD2_PRV_H
/***********************************************************************************************************************
Includes
***********************************************************************************************************************/
#include "Obd2_Types.h"


/***********************************************************************************************************************
Macro definitions
***********************************************************************************************************************/


/***********************************************************************************************************************
Type definitions
***********************************************************************************************************************/
typedef enum{
    Obd2_Idle,
    Obd2_RequestReceived,
    Obd2_RequestSend,
    Obd2_ResponseReceived,
    Obd2_ResponseDecoded,
    Obd2_Done
}States;

typedef struct{

DiagnosticRequest request;
DiagnosticResponse response;
uint8_t sendArr[7];
uint8_t receiveArr[127];
States state;
}OBDII_Data;

static OBDII_Data Obd_data;
/***********************************************************************************************************************
Function prototypes
***********************************************************************************************************************/
void decodeResponse();
void receiveResponse();
void Obd2_doneState();
void Obd2_idleState();
#endif // OBD2_PRV_H